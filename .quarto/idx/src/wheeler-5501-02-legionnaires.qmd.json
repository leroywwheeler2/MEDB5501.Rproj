{"title":"Univariate statistics for Legionnaires disease","markdown":{"yaml":{"title":"Univariate statistics for Legionnaires disease","format":{"html":{"slide-number":true,"embed-resources":true}},"editor":"source","execute":{"echo":true,"message":false,"warning":false}},"headingText":"Data source","containsRefs":false,"markdown":"\nauthor: Leroy Wheeler\ndate: created 2024-08-29\nlicense: public domain\n\n\nThis program uses data from a fictional study of Legionnaires disease and produces some simple univariate statistics: means, standard deviations, and percentiles. There is a [data dictionary][dd] that provides more details about the data. \n\n[dd]: https://github.com/pmean/data/blob/main/files/legionnaires-disease.yaml\n\n## Libraries\n\nHere are the libraries you need for this program.\n\n```{r setup}\nlibrary(tidyverse)\n```\n\n## Reading the data\n\nHere is the code to read the data and show a glimpse. There are 31 columns total, but I am showing just a few of the columns here.\n\n```{r read}\nfn <- \"../data/legionnaires-disease.txt\"\nld_raw_data <- read_tsv(fn, col_types=\"cnn\")\nglimpse(ld_raw_data)\n```\n\n## Rename, 1\n\nNotice how R encloses the first variable name (Room Number) in back-quotes. This is needed when a variable includes an embedded blank. You should rename this variable at your first opportunity.\n\n```{r rename-1}\nnames(ld_raw_data)[1] <- \"Room_Number\"\nglimpse(ld_raw_data)\n```\n\n## Rename, 2\n\nI find that many of the mistakes that I make are due to inconsistencies in how I name variables. Capitalization is one of the biggest problems. So I have gotten into the habit of converting variable names to all lower case. That way I don't have to worry about whether it is \"Before\" or \"before\". Here is the code to convert every capital letter to a lowercase letter.\n\n```{r rename-2}\nnames(ld_raw_data) <- tolower(names(ld_raw_data))\nglimpse(ld_raw_data)\n```\n\n## Calculate means and standard deviations before remediation\n\n```{r before-means}\nld_raw_data |>\n  summarize(\n    before_mn=mean(before),\n    before_sd=sd(before)) \n```\n\nThe average colony count per cubic foot before remediation, 11.3, is quite large. The standard deviation, 2.8, represents a moderate amount of variation in this variable.\n\n## Calculate means and standard deviations after remediation\n\n```{r after-means}\nld_raw_data |>\n  summarize(\n    after_mn=mean(after),\n    after_sd=sd(after)) \n```\n\nThe average colony count per cubic foot after remediation, 9.7, is still quite large. The standard deviation, 3.2, represents a moderate amount of variation in this variable and is roughly comparable to the variation before remediation.\n\n## Calculate median and range before intervention\n\nYou could also use \"median(before)\" and  \"min(before)\" and \"max(before)\" in the code below.\n\n```{r before-quantiles}\nld_raw_data |>\n  summarize(\n    before_median=quantile(before, probs=0.5),\n    before_min=quantile(before, probs=0), \n    before_max=quantile(before, probs=1)) \n```\n\nThe median colony count before remediation, 11.3, is roughly the same as the mean. The data ranges from 7.1 to 14.6 colonies per cubic centimeter, a fairly wide range.\n\n## Calculate median and range after intervention\n\n```{r after-quantiles}\nld_raw_data |>\n  summarize(\n    after_median=quantile(after, probs=0.5),\n    after_min=quantile(after, probs=0), \n    after_max=quantile(after, probs=1)) \n```\n\nThe median colony count, 10.3, is slightly lower after remediation. The data range from 3.8 to 13.7 colonies per cubic centimeter and is about as wide as the range before remediation.\n\n## Additional comments\n\nThe names that you choose for the left hand side of the equal sign are arbitrary. You should choose a descriptive name, but you have lots of options. A median of the before and after values could be called\n\n-   Before_median, After_median\n-   Median0, Median1\n-   Second_quartile_A, Second_quartile_B\n-   or many other reasonable choices.\n\n## Calculate a change score\n\nFor data like this with two measurements before and after an intervention, you should compute a change score. The way the computations are done below, a positive value means a reduction in colony counts. Note that any time you make a major change in a dataset, you should save it with a different name. That makes it easier for you to back up if you end up going down a blind alley.\n\n```{r}\nld_raw_data |>\n  mutate(change=before-after) -> ld_change_scores\nglimpse(ld_change_scores)\n```\n\n## Calculate mean and standard deviation for the change in bacterial counts. Interpret the results\n\n\n```{r change-means}\nld_change_scores |>\n  summarize(\n    change_mn=mean(change),\n    change_sd=sd(change))\n```\nThe average colony count per cubic foot the change, 1.61, is still small.  The standard deviation, 1.2, represents a small amount of variation between the rooms.\n\n## Calculate median and range for the change in bacterial counts.\n\n```{r change-quantiles}\nld_change_scores |>\n  summarize(\n    change_median=quantile(change, probs=0.5),\n    change_min=quantile(change, probs=0), \n    change_max=quantile(change, probs=1)) \n```\n\nThen median colony count for the change in bacterial counts, 1.9, is very similar to the mean.  The range of counts is between -0.4 to 3.3, which demonstrates a small variation in the change in colony counts between all the rooms.","srcMarkdownNoYaml":"\nauthor: Leroy Wheeler\ndate: created 2024-08-29\nlicense: public domain\n\n## Data source\n\nThis program uses data from a fictional study of Legionnaires disease and produces some simple univariate statistics: means, standard deviations, and percentiles. There is a [data dictionary][dd] that provides more details about the data. \n\n[dd]: https://github.com/pmean/data/blob/main/files/legionnaires-disease.yaml\n\n## Libraries\n\nHere are the libraries you need for this program.\n\n```{r setup}\nlibrary(tidyverse)\n```\n\n## Reading the data\n\nHere is the code to read the data and show a glimpse. There are 31 columns total, but I am showing just a few of the columns here.\n\n```{r read}\nfn <- \"../data/legionnaires-disease.txt\"\nld_raw_data <- read_tsv(fn, col_types=\"cnn\")\nglimpse(ld_raw_data)\n```\n\n## Rename, 1\n\nNotice how R encloses the first variable name (Room Number) in back-quotes. This is needed when a variable includes an embedded blank. You should rename this variable at your first opportunity.\n\n```{r rename-1}\nnames(ld_raw_data)[1] <- \"Room_Number\"\nglimpse(ld_raw_data)\n```\n\n## Rename, 2\n\nI find that many of the mistakes that I make are due to inconsistencies in how I name variables. Capitalization is one of the biggest problems. So I have gotten into the habit of converting variable names to all lower case. That way I don't have to worry about whether it is \"Before\" or \"before\". Here is the code to convert every capital letter to a lowercase letter.\n\n```{r rename-2}\nnames(ld_raw_data) <- tolower(names(ld_raw_data))\nglimpse(ld_raw_data)\n```\n\n## Calculate means and standard deviations before remediation\n\n```{r before-means}\nld_raw_data |>\n  summarize(\n    before_mn=mean(before),\n    before_sd=sd(before)) \n```\n\nThe average colony count per cubic foot before remediation, 11.3, is quite large. The standard deviation, 2.8, represents a moderate amount of variation in this variable.\n\n## Calculate means and standard deviations after remediation\n\n```{r after-means}\nld_raw_data |>\n  summarize(\n    after_mn=mean(after),\n    after_sd=sd(after)) \n```\n\nThe average colony count per cubic foot after remediation, 9.7, is still quite large. The standard deviation, 3.2, represents a moderate amount of variation in this variable and is roughly comparable to the variation before remediation.\n\n## Calculate median and range before intervention\n\nYou could also use \"median(before)\" and  \"min(before)\" and \"max(before)\" in the code below.\n\n```{r before-quantiles}\nld_raw_data |>\n  summarize(\n    before_median=quantile(before, probs=0.5),\n    before_min=quantile(before, probs=0), \n    before_max=quantile(before, probs=1)) \n```\n\nThe median colony count before remediation, 11.3, is roughly the same as the mean. The data ranges from 7.1 to 14.6 colonies per cubic centimeter, a fairly wide range.\n\n## Calculate median and range after intervention\n\n```{r after-quantiles}\nld_raw_data |>\n  summarize(\n    after_median=quantile(after, probs=0.5),\n    after_min=quantile(after, probs=0), \n    after_max=quantile(after, probs=1)) \n```\n\nThe median colony count, 10.3, is slightly lower after remediation. The data range from 3.8 to 13.7 colonies per cubic centimeter and is about as wide as the range before remediation.\n\n## Additional comments\n\nThe names that you choose for the left hand side of the equal sign are arbitrary. You should choose a descriptive name, but you have lots of options. A median of the before and after values could be called\n\n-   Before_median, After_median\n-   Median0, Median1\n-   Second_quartile_A, Second_quartile_B\n-   or many other reasonable choices.\n\n## Calculate a change score\n\nFor data like this with two measurements before and after an intervention, you should compute a change score. The way the computations are done below, a positive value means a reduction in colony counts. Note that any time you make a major change in a dataset, you should save it with a different name. That makes it easier for you to back up if you end up going down a blind alley.\n\n```{r}\nld_raw_data |>\n  mutate(change=before-after) -> ld_change_scores\nglimpse(ld_change_scores)\n```\n\n## Calculate mean and standard deviation for the change in bacterial counts. Interpret the results\n\n\n```{r change-means}\nld_change_scores |>\n  summarize(\n    change_mn=mean(change),\n    change_sd=sd(change))\n```\nThe average colony count per cubic foot the change, 1.61, is still small.  The standard deviation, 1.2, represents a small amount of variation between the rooms.\n\n## Calculate median and range for the change in bacterial counts.\n\n```{r change-quantiles}\nld_change_scores |>\n  summarize(\n    change_median=quantile(change, probs=0.5),\n    change_min=quantile(change, probs=0), \n    change_max=quantile(change, probs=1)) \n```\n\nThen median colony count for the change in bacterial counts, 1.9, is very similar to the mean.  The range of counts is between -0.4 to 3.3, which demonstrates a small variation in the change in colony counts between all the rooms."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","embed-resources":true,"output-file":"wheeler-5501-02-legionnaires.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","title":"Univariate statistics for Legionnaires disease","editor":"source","slide-number":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":[]}