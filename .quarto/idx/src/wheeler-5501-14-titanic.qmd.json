{"title":"Analysis of Titanic dataset Module 14","markdown":{"yaml":{"title":"Analysis of Titanic dataset Module 14","format":{"html":{"embed-resources":true}}},"headingText":"Load the tidyverse library","containsRefs":false,"markdown":"\n\nThis program reads data on survival of passengers on the Titanic. Find more\ninformation in the [data dictionary][dd].\n\n[dd]: https://github.com/pmean/data/blob/main/files/titanic.yaml\n\nThis code was written by Steve Simon and Leroy Wheeler on 2024-11-19 and is placed in the public\ndomain.\n\n\n```{r}\n#| label: setup\n#| message: false\n#| warning: false\nlibrary(epitools)\nlibrary(tidyverse)\n```\n\n## Read the data and view a brief summary\n\n```{r}\n#| label: read\nti <- read_tsv(\n  file=\"../data/titanic.txt\",\n  col_names=TRUE,\n  col_types=\"ccncn\",\n  na=\"NA\")\nnames(ti) <- tolower(names(ti))\nglimpse(ti)\n```\n\n## Replace numeric codes for survived\n\n```{r}\n#| label: replace-numbers\nti$survived <-\n\tfactor(\n\t\tti$survived,\n\t\tlevel=1:0,\n\t\tlabels=c(\"yes\", \"no\"))\n```\n\n## Question 1: Create a new variable, third_class that indicates whether a passenger is in third class or not. What is the odds ratio comparing survival between third class passengers and first/second class passengers? Interpret this odds ratio and the associated confidence interval.\n\n```{r}\n#| label: third_class\nti$third_class <- \n  case_when(\n    ti$pclass == \"1st\" ~ \"no\",\n    ti$pclass == \"2nd\" ~ \"no\",\n    ti$pclass == \"3rd\" ~ \"yes\")\n```\n\n\n## Get counts of sex by passenger class\n\n```{r}\n#| label: counts\ntable1 <-xtabs(~third_class+survived, data=ti)\ntable1\n```\n## Odds ratio calculation\n\n```{r}\n#| label: odds-ratio\noddsratio(table1)\n```\n\n#### Interpretation of the odd ratio output\n\nWe are 95% confident that the odds ratio of survival for 1st/2nd class passengers\nis at least 3.5 and possibly as large as 5.7, after accounting for sampling error. \nThis interval excludes the value of 1, so we conclude that the odds of \nsurvival is 4.5 times higher for 1st and 2nd class passengers than for third class passengers.\n\n## Question 2: Calculate a chi-squared test of independence that examines the association between passenger class (third versus first/second) and mortality. Interpret the test result.\n\n```{r}\n#| label: chi-squared-test-1\nm1 <- chisq.test(table1, correct=FALSE)\nm1\n```\n\n#### Interpretation of the chi-square output\n\nBecause the chi-squared statistic is much larger than the degrees of freedom and the\np-value is small, we will reject the null hypothesis and conclude that passenger class status\nand survival are related (not independent)\n","srcMarkdownNoYaml":"\n\nThis program reads data on survival of passengers on the Titanic. Find more\ninformation in the [data dictionary][dd].\n\n[dd]: https://github.com/pmean/data/blob/main/files/titanic.yaml\n\nThis code was written by Steve Simon and Leroy Wheeler on 2024-11-19 and is placed in the public\ndomain.\n\n## Load the tidyverse library\n\n```{r}\n#| label: setup\n#| message: false\n#| warning: false\nlibrary(epitools)\nlibrary(tidyverse)\n```\n\n## Read the data and view a brief summary\n\n```{r}\n#| label: read\nti <- read_tsv(\n  file=\"../data/titanic.txt\",\n  col_names=TRUE,\n  col_types=\"ccncn\",\n  na=\"NA\")\nnames(ti) <- tolower(names(ti))\nglimpse(ti)\n```\n\n## Replace numeric codes for survived\n\n```{r}\n#| label: replace-numbers\nti$survived <-\n\tfactor(\n\t\tti$survived,\n\t\tlevel=1:0,\n\t\tlabels=c(\"yes\", \"no\"))\n```\n\n## Question 1: Create a new variable, third_class that indicates whether a passenger is in third class or not. What is the odds ratio comparing survival between third class passengers and first/second class passengers? Interpret this odds ratio and the associated confidence interval.\n\n```{r}\n#| label: third_class\nti$third_class <- \n  case_when(\n    ti$pclass == \"1st\" ~ \"no\",\n    ti$pclass == \"2nd\" ~ \"no\",\n    ti$pclass == \"3rd\" ~ \"yes\")\n```\n\n\n## Get counts of sex by passenger class\n\n```{r}\n#| label: counts\ntable1 <-xtabs(~third_class+survived, data=ti)\ntable1\n```\n## Odds ratio calculation\n\n```{r}\n#| label: odds-ratio\noddsratio(table1)\n```\n\n#### Interpretation of the odd ratio output\n\nWe are 95% confident that the odds ratio of survival for 1st/2nd class passengers\nis at least 3.5 and possibly as large as 5.7, after accounting for sampling error. \nThis interval excludes the value of 1, so we conclude that the odds of \nsurvival is 4.5 times higher for 1st and 2nd class passengers than for third class passengers.\n\n## Question 2: Calculate a chi-squared test of independence that examines the association between passenger class (third versus first/second) and mortality. Interpret the test result.\n\n```{r}\n#| label: chi-squared-test-1\nm1 <- chisq.test(table1, correct=FALSE)\nm1\n```\n\n#### Interpretation of the chi-square output\n\nBecause the chi-squared statistic is much larger than the degrees of freedom and the\np-value is small, we will reject the null hypothesis and conclude that passenger class status\nand survival are related (not independent)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","embed-resources":true,"output-file":"wheeler-5501-14-titanic.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","title":"Analysis of Titanic dataset Module 14"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":[]}