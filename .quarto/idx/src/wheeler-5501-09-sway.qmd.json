{"title":"Alternative analysis of postural sway data","markdown":{"yaml":{"title":"Alternative analysis of postural sway data","format":{"html":{"embed-resources":true}},"execute":{"error":true}},"headingText":"Libraries","containsRefs":false,"markdown":"\n\nThis program runs some alternatives to the two-sample t-test. Consult the [data dictionary][dic] for information about the data itself.\n\n[dic]: https://github.com/pmean/data/blob/main/files/postural-sway.yaml\n\nThis program was written by Steve Simon and Leroy Wheeler on 2024-10-16. It is placed in the public domain.\n\n\n\n```{r setup}\n#| message: false\n#| warning: false\nlibrary(tidyverse)\n```\n\n## Read data\n\n```{r read-sway}\nsway <- read_tsv(\n  file=\"../data/postural-sway.txt\",\n  col_types=\"cnn\")\nnames(sway) <- tolower(names(sway))\nglimpse(sway)\n```\n\n## Boxplot of side to side sway by age\n\n```{r boxplot-1}\n#| fig.height: 2\n#| fig.width: 6\nsway |>\n  ggplot(aes(age, sidesway)) +\n    geom_boxplot() +\n    ggtitle(\"Graph drawn by Leroy Wheeler on 2024-10-16\") +\n    xlab(\"Treatment group\") +\n    ylab(\"Side to side sway\") +\n    coord_flip()\n```\n\nThere are two outliers in the side to side sway data as well as some heterogeneity in the data.\n\n## Descriptive statistics for side to side sway by age\n\n```{r group-means}\nsway |>\n  group_by(age) |>\n  summarize(\n    side_mn=mean(sidesway),\n    side_sd=sd(sidesway),\n    n=n())\n```\n\nIn addition to the outliers, we see that the larger mean in the elderly group brings along with it a larger standard deviation that is close to three times that of the young group. We will perform a log transformation to obtain more accurate results.\n\n## Log transformation, 1\n\n```{r log-transform-1}\nsway |>\n  mutate(log_sidesway=log10(sidesway)) -> log_sway\n```\n\n## Log transformation, 2\n\n```{r log-transform-2}\n#| fig.height: 2\n#| fig.width: 6\nlog_sway |>\n  ggplot(aes(age, log_sidesway)) +\n    geom_boxplot() +\n    ggtitle(\"Graph drawn by Leroy Wheeler on 2024-10-16\") +\n    xlab(\"Treatment group\") +\n    ylab(\"log side to side sway\") +\n    coord_flip()\n```\n\nThere are no outliers after a log transformation and the distribution of the data between the two groups looks more similar.\n\n## Log transformation, 3\n\n```{r compare-means-on-log-scale}\nlog_sway |>\n  group_by(age) |>\n  summarize(\n    log_mn=mean(log_sidesway),\n    log_sd=sd(log_sidesway),\n    n=n())\n```\n\nThe standard deviations on the log scale are more similar than they were on the original scale.\n\n## Question 1: The side-to-side sway data appears to have a pair of outliers and some evidence of heterogenity. Use a log transformation to see if this makes things better. Analyze the data on a log scale using a two-sample t-test and report the confidence interval after transforming back to the original scale of measurement.\n\n```{r t-test}\nm2 <- t.test(\n  log_sidesway ~ age, \n  data=log_sway,\n  alternative=\"two.sided\",\n  var.equal=TRUE)\nm2\n```\n\nThere is a no statistically significant difference between the log side to side sway between elderly patients and young patients because the 95% confidence interval includes the possibility that the difference in the log means includes zero. This conclusion is further supported by the p value which is greater than our alpha of 0.05.\n\n## Back-transform confidence interval to the original scale.\n\n```{r back-transform}\n10^(m2$conf.int)\n```\n\nWe are 95% confident that the geometric mean side to side sway in elderly patients is somewhere between 0.96 times higher (4% decrease) and 2.02 times higher (102% increase) than the geometric mean for young patients. Because our 95% CI includes the possibility that the elderly patient values are either smaller or larger than the younger patient values, we do not reject the null hypothesis that the side sway values in both data sets are equivalent.\n\n## Question 2: You want to replicate these findings in a new population, using the log transformation on the new data. Select a standard deviation from log transformed side-to-side sway values in the current study (go halfway between the two standard deviations). You want to have 90% power for detecting a 1.5 fold change (which is 0.176 units on a log base 10 scale). If you use a two-sided hypothesis with alpha = 0.05, what sample size would you need?\n\n\n```{r power-1}\npower.t.test(\n  n=NULL,\n  delta=0.176,\n  sd=0.14945,\n  sig.level=0.05,\n  power=0.9,\n  type=\"two.sample\",\n  alternative=\"two.sided\")\n```\n\nIn order to detect a 1.5 fold (0.176 units on a log scale) change in side to side sway between the two groups with a 90% power and a two sided hypothesis with an alpha =0.05, we will need a sample size of at least 17.\n\n```{r power-2}\npower.t.test(\n  n=NULL,\n  delta=7.56,\n  sd=7.08,\n  sig.level=0.05,\n  power=0.9,\n  type=\"two.sample\",\n  alternative=\"two.sided\")\n```\n","srcMarkdownNoYaml":"\n\nThis program runs some alternatives to the two-sample t-test. Consult the [data dictionary][dic] for information about the data itself.\n\n[dic]: https://github.com/pmean/data/blob/main/files/postural-sway.yaml\n\nThis program was written by Steve Simon and Leroy Wheeler on 2024-10-16. It is placed in the public domain.\n\n\n## Libraries\n\n```{r setup}\n#| message: false\n#| warning: false\nlibrary(tidyverse)\n```\n\n## Read data\n\n```{r read-sway}\nsway <- read_tsv(\n  file=\"../data/postural-sway.txt\",\n  col_types=\"cnn\")\nnames(sway) <- tolower(names(sway))\nglimpse(sway)\n```\n\n## Boxplot of side to side sway by age\n\n```{r boxplot-1}\n#| fig.height: 2\n#| fig.width: 6\nsway |>\n  ggplot(aes(age, sidesway)) +\n    geom_boxplot() +\n    ggtitle(\"Graph drawn by Leroy Wheeler on 2024-10-16\") +\n    xlab(\"Treatment group\") +\n    ylab(\"Side to side sway\") +\n    coord_flip()\n```\n\nThere are two outliers in the side to side sway data as well as some heterogeneity in the data.\n\n## Descriptive statistics for side to side sway by age\n\n```{r group-means}\nsway |>\n  group_by(age) |>\n  summarize(\n    side_mn=mean(sidesway),\n    side_sd=sd(sidesway),\n    n=n())\n```\n\nIn addition to the outliers, we see that the larger mean in the elderly group brings along with it a larger standard deviation that is close to three times that of the young group. We will perform a log transformation to obtain more accurate results.\n\n## Log transformation, 1\n\n```{r log-transform-1}\nsway |>\n  mutate(log_sidesway=log10(sidesway)) -> log_sway\n```\n\n## Log transformation, 2\n\n```{r log-transform-2}\n#| fig.height: 2\n#| fig.width: 6\nlog_sway |>\n  ggplot(aes(age, log_sidesway)) +\n    geom_boxplot() +\n    ggtitle(\"Graph drawn by Leroy Wheeler on 2024-10-16\") +\n    xlab(\"Treatment group\") +\n    ylab(\"log side to side sway\") +\n    coord_flip()\n```\n\nThere are no outliers after a log transformation and the distribution of the data between the two groups looks more similar.\n\n## Log transformation, 3\n\n```{r compare-means-on-log-scale}\nlog_sway |>\n  group_by(age) |>\n  summarize(\n    log_mn=mean(log_sidesway),\n    log_sd=sd(log_sidesway),\n    n=n())\n```\n\nThe standard deviations on the log scale are more similar than they were on the original scale.\n\n## Question 1: The side-to-side sway data appears to have a pair of outliers and some evidence of heterogenity. Use a log transformation to see if this makes things better. Analyze the data on a log scale using a two-sample t-test and report the confidence interval after transforming back to the original scale of measurement.\n\n```{r t-test}\nm2 <- t.test(\n  log_sidesway ~ age, \n  data=log_sway,\n  alternative=\"two.sided\",\n  var.equal=TRUE)\nm2\n```\n\nThere is a no statistically significant difference between the log side to side sway between elderly patients and young patients because the 95% confidence interval includes the possibility that the difference in the log means includes zero. This conclusion is further supported by the p value which is greater than our alpha of 0.05.\n\n## Back-transform confidence interval to the original scale.\n\n```{r back-transform}\n10^(m2$conf.int)\n```\n\nWe are 95% confident that the geometric mean side to side sway in elderly patients is somewhere between 0.96 times higher (4% decrease) and 2.02 times higher (102% increase) than the geometric mean for young patients. Because our 95% CI includes the possibility that the elderly patient values are either smaller or larger than the younger patient values, we do not reject the null hypothesis that the side sway values in both data sets are equivalent.\n\n## Question 2: You want to replicate these findings in a new population, using the log transformation on the new data. Select a standard deviation from log transformed side-to-side sway values in the current study (go halfway between the two standard deviations). You want to have 90% power for detecting a 1.5 fold change (which is 0.176 units on a log base 10 scale). If you use a two-sided hypothesis with alpha = 0.05, what sample size would you need?\n\n\n```{r power-1}\npower.t.test(\n  n=NULL,\n  delta=0.176,\n  sd=0.14945,\n  sig.level=0.05,\n  power=0.9,\n  type=\"two.sample\",\n  alternative=\"two.sided\")\n```\n\nIn order to detect a 1.5 fold (0.176 units on a log scale) change in side to side sway between the two groups with a 90% power and a two sided hypothesis with an alpha =0.05, we will need a sample size of at least 17.\n\n```{r power-2}\npower.t.test(\n  n=NULL,\n  delta=7.56,\n  sd=7.08,\n  sig.level=0.05,\n  power=0.9,\n  type=\"two.sample\",\n  alternative=\"two.sided\")\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":true,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","embed-resources":true,"output-file":"wheeler-5501-09-sway.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","title":"Alternative analysis of postural sway data"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":[]}