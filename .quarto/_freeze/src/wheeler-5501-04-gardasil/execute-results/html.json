{
  "hash": "4d7fb2ad02536fc3aa43bee721489418",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Analysis of gardasil shots by demographic factors\"\nformat: \n  html:\n    embed-resources: true\n---\n\n\nThis program reads data on Gardasil vaccinations in young women. Find more information in the [data dictionary][dd].\n\n[dd]: https://raw.githubusercontent.com/pmean/datasets/master/gardasil.yaml\n\nThe program was written by Steve Simon on 2024-09-07 and is placed in the public domain.\n\n## Load the tidyverse library\n\nFor most of your programs, you should load the tidyverse library. The messages and warnings are suppressed.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n## Read the data and view a brief summary\n\nUse the read_csv function to read the data. The glimpse function will produce a brief summary. Use tolower to convert uppercase to lowercase.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngard <- read_csv(\n  file=\"../data/gardasil.csv\",\n  col_names=TRUE,\n  col_types=\"nnnnnnnnnn\")\nnames(gard) <- tolower(names(gard))\nglimpse(gard)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,413\nColumns: 10\n$ age           <dbl> 21, 21, 20, 14, 17, 11, 17, 15, 13, 18, 17, 22, 16, 13, …\n$ agegroup      <dbl> 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0,…\n$ race          <dbl> 0, 0, 0, 0, 3, 1, 0, 3, 3, 0, 1, 0, 3, 1, 1, 0, 1, 1, 0,…\n$ shots         <dbl> 3, 3, 1, 3, 2, 1, 1, 3, 3, 3, 2, 2, 1, 2, 1, 1, 1, 3, 3,…\n$ completed     <dbl> 1, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1,…\n$ insurancetype <dbl> 3, 3, 1, 3, 3, 0, 3, 1, 1, 2, 1, 3, 1, 3, 0, 1, 1, 1, 1,…\n$ medassist     <dbl> 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,…\n$ location      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ locationtype  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ practicetype  <dbl> 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 1,…\n```\n\n\n:::\n:::\n\n\n## Question 7: First create factors for medassist\n\nThe factor function identifies a variable as categorical and assigns labels to number codes. You don't necessarily need to use factor if the data you read in is character strings, as R automatically treats those variable as categorical.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngard$medassist <- factor(\n  gard$medassist,\n  levels=0:1,\n  labels=c(\n    \"No medical assistance\",\n    \"Received medical assistance\"))\n```\n:::\n\n\n## Question 7: Summarize and interpret the percentage of patients receiving medical assistance. Be sure to convert the number codes for this variable into labels using the factor function\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngard |> \n  count(medassist) |>\n  mutate(total=sum(n)) |>\n  mutate(pct=round(100*n/total))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  medassist                       n total   pct\n  <fct>                       <int> <int> <dbl>\n1 No medical assistance        1138  1413    81\n2 Received medical assistance   275  1413    19\n```\n\n\n:::\n:::\n\n\nEighty one percent of patients received at least some medical assistance while the remaining 19% did not.\n\n## Create factors for shots\n\nIt is a bit silly to replace 1, 2, 3 with One, Two, Three. The main reason is to clearly identify shots as categorical rather than continuous.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngard$shots <- factor(\n  gard$shots,\n  levels=1:3,\n  labels=c(\n    \"One\", \n    \"Two\", \n    \"Three\"))\n```\n:::\n\n\n## Counts and percentages for shots\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngard |> \n  count(shots) |>\n  mutate(total=sum(n)) |>\n  mutate(pct=round(100*n/total))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  shots     n total   pct\n  <fct> <int> <int> <dbl>\n1 One     440  1413    31\n2 Two     436  1413    31\n3 Three   537  1413    38\n```\n\n\n:::\n:::\n\n\nSlightly more patients got three shots than one or two shots, but this is still less than half of the patients overall.\n\n## Question 8: First calculate the percentages for number of shots received by whether the patient received medical assistance. Interpret this chart. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ngard |>\n  count(medassist, shots) |>\n  group_by(medassist) |>\n  mutate(row_total=sum(n)) |>\n  mutate(pct=round(100*n/row_total))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n# Groups:   medassist [2]\n  medassist                   shots     n row_total   pct\n  <fct>                       <fct> <int>     <int> <dbl>\n1 No medical assistance       One     329      1138    29\n2 No medical assistance       Two     342      1138    30\n3 No medical assistance       Three   467      1138    41\n4 Received medical assistance One     111       275    40\n5 Received medical assistance Two      94       275    34\n6 Received medical assistance Three    70       275    25\n```\n\n\n:::\n:::\n\nSurprisingly 41% of patients who did not receive medical assistance received all three shots when compared to the 25% of patients who received medical assistance.\n\n\n## ## Question 8: Draw a bar chart showing the percentages for number of shots received by whether the patient received medical assistance. Interpret this chart.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngard |>\n  ggplot(aes(x=medassist, fill=shots)) +\n    geom_bar(position=\"fill\") +\n    xlab(\"Med assist\") +\n    ylab(\"Proportion\") +\n    ggtitle(\"Plot drawn by Leroy Wheeler on 2024-09-12\")\n```\n\n::: {.cell-output-display}\n![](wheeler-5501-04-gardasil_files/figure-html/shots-by-medassist-2-1.png){width=672}\n:::\n:::\n\n\nPatients who did not receive medical assistance were more likely to complete the full round of three Gardisil shots compared to patients who received some medical assistance.\n\n",
    "supporting": [
      "wheeler-5501-04-gardasil_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}