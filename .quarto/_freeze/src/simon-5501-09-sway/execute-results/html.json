{
  "hash": "1bbaf51bdd93283f9108236f4e6d3418",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Alternative analysis of postural sway data\"\nformat: \n  html:\n    embed-resources: true\n---\n\n\n\nThis program runs some alternatives to the two-sample t-test. Consult the [data dictionary][dic] for information about the data itself.\n\n[dic]: https://github.com/pmean/data/blob/main/files/postural-sway.yaml\n\nThis program was written by Steve Simon on 2024-10-13. It is placed in the public domain.\n\n\n## Libraries\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\n## Read data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsway <- read_tsv(\n  file=\"../data/postural-sway.txt\",\n  col_types=\"cnn\")\nnames(sway) <- tolower(names(sway))\nglimpse(sway)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 17\nColumns: 3\n$ age      <chr> \"Elderly\", \"Elderly\", \"Elderly\", \"Elderly\", \"Elderly\", \"Elder…\n$ fbsway   <dbl> 19, 30, 20, 19, 29, 25, 21, 24, 50, 25, 21, 17, 15, 14, 14, 2…\n$ sidesway <dbl> 14, 41, 18, 11, 16, 24, 18, 21, 37, 17, 10, 16, 22, 12, 14, 1…\n```\n\n\n:::\n:::\n\n\n\n## Boxplot of front-to-back sway by age\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsway |>\n  ggplot(aes(age, fbsway)) +\n    geom_boxplot() +\n    ggtitle(\"Graph drawn by Steve Simon on 2024-10-13\") +\n    xlab(\"Treatment group\") +\n    ylab(\"Front to back sway\") +\n    coord_flip()\n```\n\n::: {.cell-output-display}\n![](simon-5501-09-sway_files/figure-html/boxplot-1-1.png){width=576}\n:::\n:::\n\n\n\nThe outlier causes some concern about the validity of the two-sample t-test.\n\n## Descriptive statistics for front-to-back sway by age\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsway |>\n  group_by(age) |>\n  summarize(\n    fb_mn=mean(fbsway),\n    fb_sd=sd(fbsway),\n    n=n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  age     fb_mn fb_sd     n\n  <chr>   <dbl> <dbl> <int>\n1 Elderly  26.3  9.77     9\n2 Young    18.1  4.09     8\n```\n\n\n:::\n:::\n\n\n\nIn addition to the outlier, notice that the group with the larger mean (elderly) has the larger standard deviation. This indicates that a log transformation may produce better results.\n\n## Log transformation, 1\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsway |>\n  mutate(log_fbsway=log10(fbsway)) -> log_sway\n```\n:::\n\n\n\n## Log transformation, 2\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlog_sway |>\n  ggplot(aes(age, log_fbsway)) +\n    geom_boxplot() +\n    ggtitle(\"Graph drawn by Steve Simon on 2024-10-13\") +\n    xlab(\"Treatment group\") +\n    ylab(\"Front to back sway\") +\n    coord_flip()\n```\n\n::: {.cell-output-display}\n![](simon-5501-09-sway_files/figure-html/log-transform-2-1.png){width=576}\n:::\n:::\n\n\n\nThere are no outliers after a log transformation.\n\n## Log transformation, 3\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlog_sway |>\n  group_by(age) |>\n  summarize(\n    log_mn=mean(log_fbsway),\n    log_sd=sd(log_fbsway),\n    n=n())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  age     log_mn log_sd     n\n  <chr>    <dbl>  <dbl> <int>\n1 Elderly   1.40 0.135      9\n2 Young     1.25 0.0952     8\n```\n\n\n:::\n:::\n\n\n\nThe standard deviations on the log scale are quite a bit more similar than they were on the original scale.\n\n## Two-sample t-test using the log transformation\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm2 <- t.test(\n  log_fbsway ~ age, \n  data=log_sway,\n  alternative=\"two.sided\",\n  var.equal=TRUE)\nm2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tTwo Sample t-test\n\ndata:  log_fbsway by age\nt = 2.6323, df = 15, p-value = 0.01884\nalternative hypothesis: true difference in means between group Elderly and group Young is not equal to 0\n95 percent confidence interval:\n 0.02868192 0.27278285\nsample estimates:\nmean in group Elderly   mean in group Young \n             1.399711              1.248978 \n```\n\n\n:::\n:::\n\n\n\nThere is a statistically significant difference between the log front-to-back sway between elderly patients and young patients. The confidence interval will be interpreted after transforming back to the original scale of measurement.\n\n## Back-transform confidence interval to the original scale.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n10^(m2$conf.int)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.068272 1.874057\nattr(,\"conf.level\")\n[1] 0.95\n```\n\n\n:::\n:::\n\n\n\nWe are 95% confident that the geometric mean front-to-back sway in elderly patients is somewhere between 1.24 times higher and 8 times higher than the geometric mean for young patients. This indicates a statistically significantly higher mean for elderly patients. The confidence interval is still very wide, indicating a lot of sampling error in these two small samples.\n\n## Wilcoxon-Mann-Whitney\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwilcox.test(fbsway ~ age, data=sway)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...): cannot\ncompute exact p-value with ties\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tWilcoxon rank sum test with continuity correction\n\ndata:  fbsway by age\nW = 59, p-value = 0.02988\nalternative hypothesis: true location shift is not equal to 0\n```\n\n\n:::\n:::\n\n\n\nSince the p-value is small, you would reject the null hypothesis and conclude that there is a statistically significant difference in front-to-back sway values between elderly and young patients.\n",
    "supporting": [
      "simon-5501-09-sway_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}